

// Override this file to add your own SCSS styling.


// On scroll and only in desktop view, highlight section headings, tags in articles, bio info (name, title, email, socials), and the tag cloud at the bottom of the site. This work depends on CSS code in custom.scss, and JS code in academic.js.

@media (min-width: 1000px) {
  
  div.col-12.col-lg-4.section-heading, div.col-12.col-lg-4.section-heading > h1, div.article-container.pt-3 > div.btn-links.mb-3 > a:link, div.btn-links.mb-3 > button, button > h3, .portrait-title > h3, .social-icon, .tag-cloud a:link {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.03s ease-in-out;
  }
  

  div.col-12.col-lg-4.section-heading.visible, div.col-12.col-lg-4.section-heading > h1.visible {
    opacity: 1;
    transform: translateY(0);
    animation: color-transition1 2s forwards;
  }
  
  @keyframes color-transition1 {
    0% {
      color: aquamarine;
    }
    33% {
      color: #088F8F;
    }
    66% {
      color: #8FABA6;
    }
    100% {
      color: darkgrey;
    }
  }
  
  
  div.article-container.pt-3 > div.btn-links.mb-3 > a:link.visible, button.visible, button > h3.visible, div.btn-links.mb-3 > button {
    opacity: 1;
    transform: translateY(0);
    animation: color-transition2 1.5s forwards;
  }
  
  @keyframes color-transition2 {
    0% {
      color: aquamarine;
    }
    50% {
      color: #088F8F;
    }
    100% {
      color: black;
    }
  }
  
  
  .portrait-title > h3.visible, .social-icon.visible {
    opacity: 1;
    transform: translateY(0);
    animation: color-transition3 1.5s forwards;
  }
  
  @keyframes color-transition3 {
    0% {
      color: aquamarine;
    }
    50% {
      color: #088F8F;
    }
    100% {
      color: #8AA3CD;
    }
  }
  
  
  .tag-cloud > a:link.visible {
    opacity: 1;
    transform: translateY(0);
    animation: color-transition4 5s forwards;
  }
  
  @keyframes color-transition4 {
    0% {
      color: aquamarine;
    }
    50% {
      color: #088F8F;
    }
    100% {
      color: #96666f;
    }
  }

}


// Profile subsections

#profile > div:nth-child(5) > div > ul > div> div > a:link, #profile > div:nth-child(5) > div > ul > div> div > a {
  margin-right: -10px;
}

#profile > div:nth-child(5) > div > ul > div> div > a:link, #profile > div:nth-child(5) > div > ul > div> div > a:visited {
  color: darkgrey;
  background-color: transparent;
  display: block;
  padding-left: 0.5em;
  padding-right: 0.5em;
  background: linear-gradient(#E6FFE3 0 0) var(--p, 0) / var(--p, 0) no-repeat;
  transition: 0.4s, background-position 0s;
}

#profile > div:nth-child(5) > div > ul > div> div > a:hover {
  color: black;
}

.profile-subsection:hover {
  --p: 100%;
}

// Interests
#profile > div:nth-child(4) > div {
  color: darkgrey;
}

// unvisited link
p a:link, ul a:link, li a:link, .article-container a:link, td a:link, a.dsq-brlink, div.grid-sizer > div > a {
  color: #00032F; 
}

// visited link
h3 a:visited, div a:visited, p a:visited, ul a:visited, li a:visited, .article-container a:visited, td a:visited, a.dsq-brlink:visited, div.grid-sizer > div > a:visited, a:visited > code {
  color: purple; 
  background-color: transparent;
}

// mouse over link
p a:hover, ul a:hover, li a:hover, .article-container a:hover, td a:hover, a.dsq-brlink:hover, div.grid-sizer > div > a:hover, , #top > div.pub > div > div > div.col-md-10 > div > div.col-12.col-md-9 > a:hover, h3 > a:hover, #top a:hover, a:hover > code {
  background-image: none; // necessary to override `p a:link` property
  color: black;
  background-color: #EAFFE8;
  text-decoration: none;
}

// active link
h3 a:active, div a:active, p a:active, ul a:active, li a:active, .article-container a:active, td a:active, a.dsq-brlink:active {
  color: #24494F; 
}

// background colour for links
p a:link, td a:link, div.grid-sizer > div > a, #top > div.pub > div > div > div.col-md-10 > div > div.col-12.col-md-9 > a, h3 > a, a > code {
  background-image: linear-gradient(180deg, #ffffe2, #ffffeb, #fffff5, #fffff5, #fffff5, #fffff5, #BAF1B7);
}

/* Remove link highlight from general links in home 
and from bio portrait information. */

// Navigation bar

#navbar-main > div > div.d-none.d-lg-inline-flex > a, #navbar-content > ul > li > a, #navbar-main > div > div.navbar-brand-mobile-wrapper.d-inline-flex.d-lg-none > a {
  color: darkgrey;
}

#navbar-main > div > div.d-none.d-lg-inline-flex > a:hover, #navbar-content > ul > li > a:hover, #navbar-main > div > div.navbar-brand-mobile-wrapper.d-inline-flex.d-lg-none > a:hover {
  color: #31A290;
}

div.col-12.col-lg-4.section-heading > h1, #navbar-content > ul > li > a {
  color: darkgrey;
}

.nav-link.active span {
  color: #39A290;
}

#navbar-main a:link {
  color: #79A990;
  background-color: transparent;
}

#navbar-content > ul > li > a:hover > span {
  color: #31A290;
  font-weight: bold;
}

#navbar-main > div > ul a:link {
  color: darkgrey;
}

#top > div.pub > div.article-container.pt-3 > div.article-metadata > span.article-categories > a, #profile > div > div > ul > div > a:link, #top > article > div.article-container.pt-3 > div.article-metadata > span.article-categories > a:link, code {
  background-color: transparent;
}

.article-title > a, #profile > div.portrait-title > h3 > a {
  background-image: none; 
}

// unvisited link
h3 a:link {
  color: #4F6C89; 
}

// active link

h3 a:hover, div a:hover {
  color: #24494F; 
}

// category links
.article-categories a:link {
  color: darkgrey; 
}

// visited category and tag cloud links
.article-categories a:visited, .tag-cloud > a:visited {
  color: #9E84B0 !important;
}

// hovered category links
.article-categories a:hover {
  color: #24494F !important;
}

// hovered tag cloud links
.tag-cloud > a:hover {
  color: #24494F !important;
  text-decoration: none;
}

// Hide tags in general home page, along with the preceding divider
:is(#publication, #applications-and-dashboards, #blog) span.article-categories, :is(#publication, #applications-and-dashboards, #blog) span.middot-divider:has(+ span.article-categories) {
  display: none;
}

// Reduce margin above button links in home page
:is(#publication, #applications-and-dashboards, #blog) .btn-links {
  margin-top: -2%;
}

// Remove abstracts from home page

#publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.article-style {
  display: none;
}

// Change size of article metadata

#publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.stream-meta.article-metadata > div {
  font-size: 115%;
}

#top > div.pub > div.article-container.pt-3 > div.article-metadata {
  font-size: 90%;
}

// Change size of article categories
#top > div.pub > div.article-container.pt-3 > div.article-metadata > span.article-categories {
  font-size: 80%;
}


// Remove 's' tag from tag cloud
a[href$="/tags/s/"] {
  display: none;
}


#publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.btn-links > a, div.article-container.pt-3 > div.btn-links.mb-3 > a:link, #publication > div > div > div.col-12.col-lg-8 > * > div.media-body > div.btn-links > a:link, .btn-links a:link, #top > div.pub > div > a > button:link, #publication > div > div > div.col-12.col-lg-8 > * > div.media-body > div.btn-links > button:link, div.grid-sizer > div > p > button, div.grid-sizer > div > p > a:link, #top > div.pub > div.article-container.pt-3 > div.btn-links.mb-3 > button, #publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.btn-links > button {
  background-image: none;
  color: black; 
  background-color: #F8F8F8 !important;
  border-color: lightgrey;
}

div.article-container.pt-3 > div.btn-links.mb-3 > a:visited, #publication > div > div > div.col-12.col-lg-8 > * > div.media-body > div.btn-links > a:visited, .btn-links a:visited, #top > div.pub > div > a > button:visited, #publication > div > div > div.col-12.col-lg-8 > * > div.media-body > div.btn-links > button:visited, #top > div.pub > div.article-container.pt-3 > div.btn-links.mb-3 > button:visited, div.grid-sizer > div > p > button:visited, div.grid-sizer > div > p > a:visited, , #publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.btn-links > button:visited {
  background-image: none;
  color: purple; 
  font-weight: bold;
  background-color: #F7F7F7;
  border-color: purple;
}

#publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.btn-links > a:hover, div.article-container.pt-3 > div.btn-links.mb-3 > a:hover, #top > div.pub > div.article-container.pt-3 > div.btn-links.mb-3 > a:hover, #publication > div > div > div.col-12.col-lg-8 > * > div.media-body > div.btn-links > a:hover, .btn-links a:hover, div.grid-sizer > div > p > button:hover, div.grid-sizer > div > p > a:hover, div.media-body > h3 > a:hover, #publication > div > div > div.col-12.col-lg-8 > div > div.media-body > div.btn-links > button:hover, #top > div.pub > div.article-container.pt-3 > div.btn-links.mb-3 > button:hover {
  background-image: none;
  color: black; 
  font-weight: bold;
  background-color: #E6FFE3 !important;
  border-color: lightgrey;
}

// unvisited tag and category links
#top > div.pub > div > div.article-tags > a:link, #top > article > div > div.article-tags > a:link, .article-tags a:link {
  color: black;
  background-color: #F3F3F3;
}

// visited tag and category links
#top > div.pub > div > div.article-tags > a:visited, #top > article > div > div.article-tags > a:visited, .article-tags a:visited {
  color: black;
  background-color: #F7F1FF;
}

// hovered tag and category links
#top > div.pub > div > div.article-tags > a:hover, #top > article > div > div.article-tags > a:hover, .article-tags a:hover {
  color: black;
  background-color: #E6FFE3;
}


// Social icons on the left-hand side of the bio section
#profile > div > div > span > span > a > i:hover {
  color: #379E8A !important;
  background-color: transparent;
  background-image: none;
}

// Icons on the body of the bio section
#bio > div > div > div.col-12.col-lg-8 > div > div > ul > li > i {
  color: lightgrey;
  background-color: transparent;
  background-image: none;
}

// Folder icon for categories
span.article-categories > i {
  color: lightgrey;
  background-color: transparent;
  background-image: none;
}

// Icons

i, #fn1 > p > a.footnote-back {
  background-color: transparent;
  background-image: none;
}

div.col-12.col-lg-4.section-heading > h1 > span > a > i {
  color: lightgrey;
  background-image: none;
}

a > i:hover, #profile > div > div > span > span > a:hover, #navbar-main > div > button > span > i:hover, :is(#navbar-main, #publication, #applications-and-dashboards, #blog) :is(a:has(i), i:hover, button:hover), #navbar-main > div > button:hover, #navbar-main > div > button > span:hover {
  color: #379E8A;
  background-color: transparent !important;
  background-image: none !important;
}

// Buttons, full text buttons, dashboard/application button
button:hover, #top > div.pub > div > a > button:hover, #top > div.pub > div > div.article-style > a > button:hover, #top > article > div > div.article-style > a > button:hover {
  background-color: #E6FFE3 !important;
}

// Keyboard buttons
kbd {
  outline: 0;
  vertical-align: baseline;
  background: transparent;
  border-style: solid;
  border-width: 1px 3px 4px;
  -moz-border-radius: 3px;
  -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px #fff inset;
  -webkit-border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px #fff inset;
  background-color: #f7f7f7;
  border: 1px solid #ccc;
  border-radius: 3px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px #fff inset;
  color: #333;
  display: inline-block;
  font-family: monospace, sans-serif;
  font-size: 95%;
  line-height: 1.2;
  margin: 0 0.1em;
  padding: 0.09em 0.4em 0.11em 0.4em;
  text-shadow: 0 1px 0 #fff;
}


// Bootstrap warning alert messages
div.alert.alert-warning {
  color: #4A4D10;
  background-color: #F6F7E4;
  border-color: #6B6F0F;
}

// links in the footer of code chunks from emgithub
div.emgithub-file.emgithub-file-dark > div.file-data.hljs-style-a11y-dark > div > pre > code > table > tbody > tr > td.hljs-ln-line.hljs-ln-code, div.emgithub-file.emgithub-file-dark > div.file-data.hljs-style-a11y-dark > div > pre > code > table > tbody > tr > td.hljs-ln-line.hljs-ln-numbers, div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark, div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > a {
  background: none;
  margin: 5px 0px;
}

// link to main GitHub code
div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > a:nth-child(2) {
  font-size: 130%;
  margin-right: 4px;
  background: #3f3f3f;
  border-radius: 10px;
  padding: 5px 9px;
  color: #dfffe0;
}

// link to raw GitHub code
div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > a:nth-child(1) {
  font-size: 130%;
  background: #3f3f3f;
  border-radius: 10px;
  padding: 3px 9px;
  color: #fff0ea;
  margin-top: -3px;
}

// link buttons
div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > a:nth-child(1):hover, div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > a:nth-child(2):hover {
  font-size: 130%;
  background-image: linear-gradient(180deg, #FEFFE5, #FFFFF3, #FFFFF3, #FFFFF3, #FFFFF3, #FFFFF3, #FFFFF3, #FFFFF3, #FEFFE5);
  color: black;
}

// repair colour of certain code words 
div.emgithub-file.emgithub-file-dark > div.file-data.hljs-style-a11y-dark > div > pre > code > table > tbody > * > td.hljs-ln-line.hljs-ln-code > span > span {
  color: white;
}

// add margin under emgithub code chunks
.emgithub-container {
  margin-bottom: 6%;
}

// remove love icon from emgithub chunk footnote
div.emgithub-file.emgithub-file-dark > div.file-meta.file-meta-dark > span {
  display: none;
}

/* Hide the rotating animation shown when emgithub won't load up, 
and instead, display a message. */

// Hide the rotating animation
div.lds-ring > div:nth-child(4) {
  display: none;
}

// Ensure the parent container is positioned correctly
div.lds-ring {
  position: relative; /* Needed to position the pseudo-element */
}

// Create a pseudo-element to display the message
div.lds-ring:after {
  content: 'âŸ³ Please wait or reload page to view this snippet.';
  display: inline-block; /* Allows the text to be centered */
  font-size: 1.2em;
  color: red;
  margin-top: 20px; /* Adjust as needed for positioning */
  white-space: nowrap; /* Prevents the text from wrapping */
  box-sizing: border-box; /* Ensures padding and border are included in width */
  position: absolute; /* Absolute positioning within the parent */
  top: 50%; /* Vertically center within the parent */
  left: 50%; /* Horizontally center starting from the left */
  transform: translate(-50%, -50%); /* Adjust the element to be centered */
  text-align: center; /* Centers the text within the element */
  width: fit-content; /* Adjust the width to the text content */
}


// Hanging indentation for references
#reference, #references, .hanging-indent {
  text-indent: -2em; 
  margin-left: 2em;
}

// Related references 

.related-references {
  color: #787878;
  scrollbar-color: #57a292 #edf5f4;
  border-style: solid; 
  border-width: 0.2px;
  border-left-color: aquamarine;
  border-left-width: thin;
  border-top: none;
  border-right: none;
  border-bottom: none;
  overflow: auto; 
  font-size: 90%; 
  height: 700px; 
  overflow-wrap: normal; 
  margin-top: 1.3em; 
  margin-left: -0.7em; 
  margin-bottom: 3em;
  padding-right: 0.4em; 
  padding-left: 0.7em;
}


// scroll bar for textarea
textarea {
  scrollbar-color: #57a292 #edf5f4;
}


// margin after code snippets
pre {
  margin-bottom: 5%;
}


// in desktop view only
@media (min-width: 1000px) {
  
  // make sidebar headings sticky
  .section-heading, #bio > div > div > div.col-12.col-lg-4 {
    margin: 0;
    height: 100%;
    overflow-y: hidden;
    position: sticky; 
    top: 120px;
    margin-bottom: 20px;
  }
  
  div.col-12.col-lg-4.section-heading > h1 {
    border-bottom: 0.4px solid;
    border-image-source: linear-gradient(to right, #BADDD5, #BADDD5, #EAF7F3, #F2FBF8);
    border-image-slice: 1;
  }
  
  // remove Experience from profile subsections
  #profile > div:nth-child(5) > div > ul > div:nth-child(1) {
    display: none;
  }
}


/* Enable gallery with modal windows for images */

.image-gallery {
    display: flex;
    flex-wrap: wrap; /* Allows wrapping of images to the next line */
    justify-content: space-between; /* Adds space between columns */
    max-width: 100%;
    margin: 0 auto;
    margin-top: -4%;
}

.imageContainer {
    position: relative; /* Relative positioning for overlay */
    width: 48%; /* Each image container takes up 45% of the width */
    margin-bottom: -4%; /* Reduced margin above the container */
}

.imageContainer img {
    width: 100%; 
    border-radius: 4px;
    cursor: pointer;
    display: block;
}

.expand-icon {
    position: absolute; /* Position icon inside the image */
    top: 50px;
    right: 10px;
    font-size: 24px; /* Adjust icon size */
    color: rgba(255, 255, 255, 0.7); /* Semi-transparent white color */
    pointer-events: none; /* Clicks pass through to image */
    z-index: 1; /* Ensure icon is below the modal content */
}

/* Modal Styling */
.imageModal {
    display: none;
    position: fixed;
    z-index: 2;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    overflow: hidden;
}

.imageModal-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    overflow: auto; /* Allow scrolling for tall images */
}

.imageModal-content-wrapper {
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Align image to start at the top */
    max-width: 100%; /* Ensure full width usage */
    max-height: 100%; /* Ensure full height usage */
    overflow: hidden; /* Prevents content overflow */
    position: relative;
    padding-top: 20px; /* Add padding to create space from the top */
    box-sizing: border-box; /* Ensure padding doesn't add to total height */
}

.imageModal-content {
    width: auto; /* Ensure the image maintains its aspect ratio */
    height: auto; /* Ensure the image maintains its aspect ratio */
    max-width: calc(100% - 20px); /* Image should not exceed the screen's width, accounting for margin */
    max-height: calc(100vh - 40px); /* Image should not exceed the screen's height, accounting for top margin */
    object-fit: contain; /* Ensures image is fully visible within the modal */
    display: block;
    margin: auto 10px; /* Add a 10px margin to the sides, auto for vertical centering */
    position: relative; /* Use relative positioning to create top spacing */
    top: 10px; /* Ensure top margin is visible */
}


/* Navigation Arrows */
.prev, .next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 32px; /* Increased arrow size */
    background-color: rgba(255, 255, 255, 0.8); /* Light background color */
    color: #333; /* Dark color for arrows */
    padding: 15px; /* Increased padding to enlarge the ovals */
    cursor: pointer;
    border-radius: 50%; /* Make it an oval */
    z-index: 2;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); /* Add a subtle shadow for depth */
    border: none; /* Remove any border */
}

.prev {
    left: 10px; /* Adjusted positioning */
}

.next {
    right: 10px; /* Adjusted positioning */
}

/* On hover: darken the background color and lighten the arrows */
.prev:hover, .next:hover {
    background-color: rgba(200, 200, 200, 0.8);
    color: #000; /* Even darker color on hover */
}

.imageClose {
    position: absolute;
    top: 20px;
    right: 35px;
    color: white;
    font-size: 40px;
    font-weight: bold;
    transition: 0.3s;
    cursor: pointer;
    z-index: 5; /* Ensure close button is on top of everything */
}

.imageClose:hover, .imageClose:focus {
    color: #bbb;
    text-decoration: none;
    cursor: pointer;
}

.imageModal-text {
    position: absolute;
    text-align: right;
    top: 90px; /* Move text higher to ensure visibility */
    right: 20px;
    color: white;
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background for better visibility */
    font-size: 20px;
    padding: 5px; /* Add padding for better text visibility */
    padding-right: 25px; /* Add padding for better text visibility */
    z-index: 4; /* Higher z-index to appear above the modal content */
}

@media only screen and (max-width: 700px) {
    .imageModal-content {
        width: 100%; /* Full width for small screens */
        height: auto; /* Maintain aspect ratio */
    }

    /* Adjust grid to be single column on small screens */
    .imageContainer {
        width: 100%; /* Full width on smaller screens */
    }
    
    .imageModal-text {
        font-size: 70%;
    }
}


// Remove Disqus heart icon and count
#favorite-button > div {
  visibility: hidden;
}


// External script toggling

.script-container {
  padding: 0px 1px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);
  margin-bottom: 5%;
}

.toggle-script {
  background: linear-gradient(135deg, #d7e3e0);
  color: black;
  border: none;
  padding: 8px 16px;
  font-size: 20px;
  cursor: pointer;
  border-radius: 25px;
  transition: all 0.3s ease;
  outline: none;
}

.toggle-script:hover {
  background: linear-gradient(135deg, #d3f3e9, #a9e3c9);
  transform: scale(1.05);
}

.toggle-script:active {
  transform: scale(0.95);
}


// Full text button

.full-text-btn {
  background-color: white;
  color: black;
  border: 2px solid #4CAF50;
  border-radius: 12px;
  width: 100%;
  padding: 8px 24px;
  margin-top: 5%;
  font-size: 1.2em;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s, box-shadow 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.full-text-btn:hover,
.full-text-btn:focus {
  background-color: #f0fdf4;
  border-color: #388e3c;
  box-shadow: 0 0 0 2px #b7e4c7;
  border-radius: 12px; /* Ensures corners stay rounded */
}
.full-text-btn .full-text {
  margin: 7.5px 9px !important;
  font-size: 1em;
  font-weight: normal;
}


// CV button

.cv-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #fff7ec;
  color: black;
  border: 2px solid #196F27;
  border-radius: 12px;
  width: 100%;
  padding: 10px 0;
  font-size: 1.4em; 
  text-decoration: none;
  transition: background 0.2s, border-color 0.2s, box-shadow 0.2s;
  margin: 0 auto 5%;
  cursor: pointer;
}
.cv-btn:hover,
.cv-btn:focus {
  background-color: #f0e6d2;
  border-color: #145a20;
  box-shadow: 0 0 0 2px #b7e4c7;
  border-radius: 12px; /* Ensures corners stay rounded */
}
.cv-btn i {
  color: darkgrey;
  margin-right: 8px;
}

