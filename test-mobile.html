<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mobile Animation Test</title>
    <style>
      /* Test styles for mobile scroll animations */
      @media (max-width: 999px) {
        .test-element {
          opacity: 0;
          transform: translateY(15px);
          transition: all 0.2s ease-out;
          padding: 20px;
          margin: 10px;
          background: #f0f0f0;
        }

        .test-element.visible {
          opacity: 1;
          transform: translateY(0);
        }

        .tag-test {
          opacity: 0;
          transform: translateY(20px);
          transition: all 0.03s ease-in-out;
          text-decoration: none;
          color: aquamarine;
          padding: 5px 10px;
          margin: 5px;
          display: inline-block;
          background: #e0e0e0;
        }

        .tag-test.visible {
          opacity: 1;
          transform: translateY(0);
          animation: mobile-tag-color-transition 2s forwards;
        }

        @keyframes mobile-tag-color-transition {
          0% {
            color: aquamarine;
          }
          50% {
            color: #088f8f;
          }
          100% {
            color: #96666f;
          }
        }
      }

      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        min-height: 200vh; /* Make page scrollable */
      }

      .section {
        margin: 100px 0;
        padding: 20px;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <h1>Mobile Animation Test</h1>
    <p>
      Resize your browser to mobile width (&lt; 1000px) and scroll down to test
      animations.
    </p>

    <div class="section">
      <h2 class="test-element">Section Heading Test</h2>
      <p class="test-element">
        This element should fade in with animation on mobile.
      </p>
    </div>

    <div class="section">
      <h3>Tag Cloud Test</h3>
      <div>
        <a href="#" class="tag-test">Tag 1</a>
        <a href="#" class="tag-test">Tag 2</a>
        <a href="#" class="tag-test">Tag 3</a>
        <a href="#" class="tag-test">Tag 4</a>
      </div>
    </div>

    <div class="section">
      <p class="test-element">More content to test scroll animations.</p>
      <button class="test-element">Test Button</button>
    </div>

    <script>
      // Simple mobile scroll animation test
      function initMobileTest() {
        if (window.innerWidth <= 999) {
          console.log("Mobile view detected, initializing animations");

          const elements = document.querySelectorAll(
            ".test-element, .tag-test"
          );

          function checkElements() {
            const triggerBottom = window.innerHeight / 1.3;

            elements.forEach((el) => {
              if (!el.classList.contains("visible")) {
                const elTop = el.getBoundingClientRect().top;
                if (elTop < triggerBottom) {
                  el.classList.add("visible");
                  console.log("Element became visible:", el);
                }
              }
            });
          }

          // Initial check
          setTimeout(checkElements, 100);

          // Scroll listener
          window.addEventListener("scroll", checkElements, { passive: true });
        } else {
          console.log("Desktop view detected, no mobile animations");
        }
      }

      // Initialize on load and resize
      window.addEventListener("load", initMobileTest);
      window.addEventListener("resize", () => {
        setTimeout(initMobileTest, 100);
      });
    </script>
  </body>
</html>
