---
title: How to map more informative values onto fill argument of sjPlot::plot_model
author: ''
slug: how-to-map-more-informative-values-onto-fill-argument-of-sjplot-plot-model
categories:
  - R
  - statistics
tags:
  - linear-mixed effects models
  - interactions
  - sjPlot
  - alias
  - recode
  - visualisation
  - s
subtitle: ''
summary: ''
authors: []
lastmod: '2023-06-24T16:51:11+02:00'
featured: no
draft: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---



<p>Whereas the direction of main effects can be interpreted from the sign of the estimate, the interpretation of interaction effects often requires plots. This task is facilitated by the R package <a href="https://strengejacke.github.io/sjPlot"><code>sjPlot</code></a>. For instance, using the <code>plot_model</code> function, I plotted the interaction between a continuous variable and a categorical variable. The categorical variable was passed to the <code>fill</code> argument of plot_model.</p>
<pre class="r"><code>library(lme4)
#&gt; Loading required package: Matrix
library(sjPlot)
#&gt; Install package &quot;strengejacke&quot; from GitHub (`devtools::install_github(&quot;strengejacke/strengejacke&quot;)`) to load all sj-packages at once!
library(ggplot2)

theme_set(theme_sjplot())

cake$recipe_recoded = ifelse(cake$recipe == &#39;A&#39;, -0.5,
                             ifelse(cake$recipe == &#39;B&#39;, 0,
                                    ifelse(cake$recipe == &#39;C&#39;, 0.5,
                                           NA)))

fit = lmer(angle ~ recipe_recoded * temp + 
             (1|recipe_recoded:replicate), 
           cake, REML= FALSE)

plot_model(fit, type = &#39;pred&#39;, terms = c(&#39;temp&#39;, &#39;recipe_recoded&#39;))
#&gt; Warning: Ignoring unknown parameters: linewidth</code></pre>
<p><img src="SiigAMp.png" /><!-- --></p>
<p><sup>Created on 2023-06-24 with <a href="https://reprex.tidyverse.org">reprex v2.0.2</a></sup></p>
<p>However, I needed an extra feature, as the categorical variable was not quite informative because it was a sum-coded transformation. Thus, I wanted the legend of the plot to show the values of the original variable (i.e., A, B and C), instead of those of the sum-coded variable that had been used in the model (i.e., -0.5, 0 and 0.5).</p>
<p>Below is a solution using a custom function called <a href="/2022/plotting-two-way-interactions-from-mixed-effects-models-using-alias-variables"><code>alias_interaction_plot</code></a>.</p>
<pre class="r"><code>library(lme4)
#&gt; Loading required package: Matrix
library(sjPlot)
library(ggplot2)

theme_set(theme_sjplot())

cake$recipe_recoded = ifelse(cake$recipe == &#39;A&#39;, -0.5,
                             ifelse(cake$recipe == &#39;B&#39;, 0,
                                    ifelse(cake$recipe == &#39;C&#39;, 0.5,
                                           NA)))

fit = lmer(angle ~ recipe_recoded * temp + 
             (1|recipe_recoded:replicate), 
           cake, REML= FALSE)

# plot_model(fit, type = &#39;pred&#39;, terms = c(&#39;temp&#39;, &#39;recipe_recoded&#39;))

# Displaying the original variable instead

# Read in function from GitHub
source(&#39;https://raw.githubusercontent.com/pablobernabeu/language-sensorimotor-simulation-PhD-thesis/main/R_functions/alias_interaction_plot.R&#39;)

alias_interaction_plot(
  model = fit, 
  dataset = cake,
  x = &#39;temp&#39;,
  fill = &#39;recipe_recoded&#39;,
  fill_alias = &#39;recipe&#39;,
  fill_title = &#39;recipe&#39;
)
#&gt; Loading required package: rlang
#&gt; Loading required package: dplyr
#&gt; 
#&gt; Attaching package: &#39;dplyr&#39;
#&gt; The following objects are masked from &#39;package:stats&#39;:
#&gt; 
#&gt;     filter, lag
#&gt; The following objects are masked from &#39;package:base&#39;:
#&gt; 
#&gt;     intersect, setdiff, setequal, union
#&gt; Loading required package: RColorBrewer
#&gt; Loading required package: ggtext
#&gt; Loading required package: Cairo
#&gt; Warning: Ignoring unknown parameters: linewidth
#&gt; Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
#&gt; replace the existing scale.
#&gt; Scale for &#39;colour&#39; is already present. Adding another scale for &#39;colour&#39;,
#&gt; which will replace the existing scale.</code></pre>
<p><img src="SS03gK6.png" /><!-- --></p>
<p><sup>Created on 2023-06-24 with <a href="https://reprex.tidyverse.org">reprex v2.0.2</a></sup></p>
